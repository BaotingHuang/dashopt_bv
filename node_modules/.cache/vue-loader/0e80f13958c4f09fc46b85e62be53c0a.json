{"remainingRequest":"/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/dashopt_bv/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/dashopt_bv/src/views/login.vue","mtime":1598094604877},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHVuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcGFzc3dvcmQyOiAiIiwKICAgICAgICBwaG9uZTogIiIKICAgICAgfSwKICAgICAgbXNnX3VuYW1lOiAi55So5oi35ZCN5q2j56GuXG4iLAogICAgICBtc2dfcGFzc3dvcmQ6ICLlr4bnoIHmraPnoa5cbiIsCiAgICAgIG1hZ19lbWFpbDogIumCrueuseato+ehrlxuIiwKICAgICAgbXNnX3Bob25lOiAi5omL5py65Y+35q2j56GuIiwKICAgICAgc2hvdzogdHJ1ZSwKICAgICAganVtcDogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0KCkgewogICAgICB2YXIgcmVnZXhfdW5hbWUgPSAvXlthLXpBLVpdW2EtekEtWjAtOV9dezUsMTF9JC87CiAgICAgIHZhciByZWdleF9wYXNzd29yZCA9IC9eKD89LipcZCkoPz0uKlthLXpdKSg/PS4qW0EtWl0pLns1LDEyfSQvOwogICAgICB2YXIgcmVnZXhfZW1haWwgPSAvXlx3KyhbLSsuXVx3KykqQFx3KyhbLS5dXHcrKSpcLlx3KyhbLS5dXHcrKSokLzsKICAgICAgdmFyIHJlZ2V4X3Bob25lID0gL14xKFszNThdWzAtOV18NFs1NzldfDY2fDdbMDEzNTY3OF18OVs4OV0pWzAtOV17OH0kLzsKICAgICAgLy8gICBpZiAodGhpcy5mb3JtLnVuYW1lLmxlbmd0aCA8IDYgfHwgdGhpcy5mb3JtLnVuYW1lLmxlbmd0aCA+IDExKSB7CiAgICAgIC8vIHRoaXMubXNnX3VuYW1lID0gIueUqOaIt+WQjemVv+W6pumUmeivr1xuIjsKICAgICAgLy8gICB9IGVsc2UgaWYgKCFyZWdleF91bmFtZS50ZXN0KHRoaXMuZm9ybS51bmFtZSkpIHsKICAgICAgaWYgKCFyZWdleF91bmFtZS50ZXN0KHRoaXMuZm9ybS51bmFtZSkpIHsKICAgICAgICB0aGlzLm1zZ191bmFtZSA9ICLnlKjmiLflkI3plJnor69cbiI7CiAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZvcm0ucGFzc3dvcmQgPT09IHRoaXMuZm9ybS5wYXNzd29yZDIpIHsKICAgICAgICAvLyBpZiAodGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aCA8IDYgfHwgdGhpcy5mb3JtLnBhc3N3b3JkID4gMTIpIHsKICAgICAgICBpZiAoIXJlZ2V4X3Bhc3N3b3JkLnRlc3QodGhpcy5mb3JtLnBhc3N3b3JkKSkgewogICAgICAgICAgdGhpcy5tc2dfcGFzc3dvcmQgPSAi5a+G56CB6ZSZ6K+vXG4iOwogICAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIC8vIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1zZ19wYXNzd29yZCA9ICLkuKTmrKHlr4bnoIHkuI3kuIDoh7RcbiI7CiAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCFyZWdleF9lbWFpbC50ZXN0KHRoaXMuZm9ybS5lbWFpbCkpIHsKICAgICAgICB0aGlzLm1hZ19lbWFpbCA9ICLpgq7nrrHplJnor69cbiI7CiAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCFyZWdleF9waG9uZS50ZXN0KHRoaXMuZm9ybS5waG9uZSkpIHsKICAgICAgICB0aGlzLm1zZ19waG9uZSA9ICLmiYvmnLrlj7fplJnor68iOwogICAgICAgIHRoaXMuanVtcCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmICghdGhpcy5qdW1wKSB7CiAgICAgICAgYWxlcnQoCiAgICAgICAgICB0aGlzLm1zZ191bmFtZSArIHRoaXMubXNnX3Bhc3N3b3JkICsgdGhpcy5tYWdfZW1haWwgKyB0aGlzLm1zZ19waG9uZQogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvdjEvdXNlcnMiLCB7CiAgICAgICAgICAgIHVuYW1lOiB0aGlzLmZvcm0udW5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLmZvcm0ucGFzc3dvcmQsCiAgICAgICAgICAgIHBob25lOiB0aGlzLmZvcm0ucGhvbmUsCiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmZvcm0uZW1haWwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIGFsZXJ0KCLms6jlhozmiJDlip8s6Lez6L2s5Yiw55m75b2V6aG1Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgKHRoaXMuZm9ybS5lbWFpbCA9ICIiKSwKICAgICAgICAgICh0aGlzLmZvcm0udW5hbWUgPSAiIiksCiAgICAgICAgICAodGhpcy5mb3JtLnBhc3N3b3JkID0gIiIpLAogICAgICAgICAgKHRoaXMuZm9ybS5wYXNzd29yZDIgPSAiIiksCiAgICAgICAgICAodGhpcy5mb3JtLnBob25lID0gIiIpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcmVnaXN0ZXIiKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <b-form @submit=\"onSubmit\" v-if=\"show\">\n      <b-form-group id=\"input-group-uname\" label=\"用户名:\" label-for=\"input-uname\">\n        <b-form-input\n          id=\"input-uname\"\n          v-model=\"form.uname\"\n          required\n          placeholder=\"Enter uname\"\n          type=\"text\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">字母开头，用户名长度为6-11字节，允许字母数字下划线</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-password\" label=\"登录密码:\" label-for=\"input-password\">\n        <b-form-input\n          id=\"input-password\"\n          v-model=\"form.password\"\n          required\n          placeholder=\"请输入密码\"\n          type=\"password\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">必须包含大小写字母和数字的组合，不能使用特殊字符，长度在6-12字节</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-password2\" label=\"再次输入登录密码:\" label-for=\"input-2\">\n        <b-form-input\n          id=\"input-password2\"\n          v-model=\"form.password2\"\n          required\n          placeholder=\"请输入密码\"\n          type=\"password\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">两次密码需一致</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-email\" label=\"邮箱:\" label-for=\"input-1\">\n        <b-form-input\n          id=\"input-email\"\n          v-model=\"form.email\"\n          type=\"email\"\n          required\n          placeholder=\"Enter email\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">例如:123123@qq.com</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-phone\" label=\"手机号:\" label-for=\"input-2\">\n        <b-form-input id=\"input-phone\" v-model=\"form.phone\" required placeholder=\"请输入手机号\"></b-form-input>\n        <b-alert show variant=\"light\">例如:13331333963</b-alert>\n      </b-form-group>\n      <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n    </b-form>\n    <!-- {{ msg }} -->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      form: {\n        email: \"\",\n        uname: \"\",\n        password: \"\",\n        password2: \"\",\n        phone: \"\"\n      },\n      msg_uname: \"用户名正确\\n\",\n      msg_password: \"密码正确\\n\",\n      mag_email: \"邮箱正确\\n\",\n      msg_phone: \"手机号正确\",\n      show: true,\n      jump: true\n    };\n  },\n  methods: {\n    onSubmit() {\n      var regex_uname = /^[a-zA-Z][a-zA-Z0-9_]{5,11}$/;\n      var regex_password = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{5,12}$/;\n      var regex_email = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\n      var regex_phone = /^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/;\n      //   if (this.form.uname.length < 6 || this.form.uname.length > 11) {\n      // this.msg_uname = \"用户名长度错误\\n\";\n      //   } else if (!regex_uname.test(this.form.uname)) {\n      if (!regex_uname.test(this.form.uname)) {\n        this.msg_uname = \"用户名错误\\n\";\n        this.jump = false;\n      }\n\n      if (this.form.password === this.form.password2) {\n        // if (this.form.password.length < 6 || this.form.password > 12) {\n        if (!regex_password.test(this.form.password)) {\n          this.msg_password = \"密码错误\\n\";\n          this.jump = false;\n        }\n        // }\n      } else {\n        this.msg_password = \"两次密码不一致\\n\";\n        this.jump = false;\n      }\n      if (!regex_email.test(this.form.email)) {\n        this.mag_email = \"邮箱错误\\n\";\n        this.jump = false;\n      }\n      if (!regex_phone.test(this.form.phone)) {\n        this.msg_phone = \"手机号错误\";\n        this.jump = false;\n      }\n      if (!this.jump) {\n        alert(\n          this.msg_uname + this.msg_password + this.mag_email + this.msg_phone\n        );\n      } else {\n        axios\n          .post(\"http://127.0.0.1:8000/v1/users\", {\n            uname: this.form.uname,\n            password: this.form.password,\n            phone: this.form.phone,\n            email: this.form.email\n          })\n          .then(function(response) {\n            if (response.data.code == 200) {\n              alert(\"注册成功,跳转到登录页\");\n            }\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n        (this.form.email = \"\"),\n          (this.form.uname = \"\"),\n          (this.form.password = \"\"),\n          (this.form.password2 = \"\"),\n          (this.form.phone = \"\");\n        this.$router.push(\"/register\");\n      }\n    }\n  }\n};\n</script>\n\n"]}]}