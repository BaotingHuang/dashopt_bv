{"remainingRequest":"/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/dashopt_bv/src/views/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/dashopt_bv/src/views/register.vue","mtime":1598362028772},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicmVnaXN0ZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHNob3c6IHRydWUsCiAgICAgIGp1bXA6IHRydWUsCiAgICAgIG1zZ19uYW1lOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0KGV2dCkgewogICAgICB2YXIgcmVnZXhfbmFtZSA9IC9eW2EtekEtWl1bYS16QS1aMC05X117NSwxMX0kLzsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICghcmVnZXhfbmFtZS50ZXN0KHRoaXMuZm9ybS5uYW1lKSkgewogICAgICAgIHRoaXMubXNnX25hbWUgPSAi55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vXG4iOwogICAgICAgIHRoaXMuanVtcCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuanVtcCA9IHRydWU7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuanVtcCkgewogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgiaHR0cDovLzEyNy4wLjAuMTo4MDAwL3YxL3Rva2VucyIsIHsKICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuZm9ybS5uYW1lLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZGFzaG9wdF9idl91c2VyIiwgcmVzcG9uc2UuZGF0YS51c2VybmFtZSk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oCiAgICAgICAgICAgICAgICAiZGFzaG9wdF9idl90b2tlbiIsCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmRhdGEudG9rZW4KICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKAogICAgICAgICAgICAgICAgImRhc2hvcHRfYnZfY291bnQiLAogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5jYXJ0c19jb3VudAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCLnmbvpmYbmiJDlip8s6Lez6L2s5Yiw6aaW6aG1Iik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9pbmRleCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KHRoaXMubXNnX25hbWUpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <b-form @submit=\"onSubmit\">\n      <b-form-group id=\"input-group-name\" label=\"用户名:\" label-for=\"input-name\">\n        <b-form-input\n          id=\"input-name\"\n          v-model=\"form.name\"\n          required\n          placeholder=\"Enter name\"\n          type=\"text\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">字母开头，用户名长度为6-11字节，允许字母数字下划线</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-password\" label=\"登录密码:\" label-for=\"input-password\">\n        <b-form-input\n          id=\"input-password\"\n          v-model=\"form.password\"\n          required\n          placeholder=\"请输入密码\"\n          type=\"password\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">必须包含大小写字母和数字的组合，不能使用特殊字符，长度在6-12字节</b-alert>\n      </b-form-group>\n      <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n      <b-button type=\"button\" variant=\"info\" to=\"findPass\">忘记密码</b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"register\",\n  data() {\n    return {\n      form: {\n        name: \"\",\n        password: \"\"\n      },\n      show: true,\n      jump: true,\n      msg_name: \"\"\n    };\n  },\n  methods: {\n    onSubmit(evt) {\n      var regex_name = /^[a-zA-Z][a-zA-Z0-9_]{5,11}$/;\n      evt.preventDefault();\n      if (!regex_name.test(this.form.name)) {\n        this.msg_name = \"用户名或密码错误\\n\";\n        this.jump = false;\n      } else {\n        this.jump = true;\n      }\n      if (this.jump) {\n        axios\n          .post(\"http://127.0.0.1:8000/v1/tokens\", {\n            username: this.form.name,\n            password: this.form.password\n          })\n          .then(function(response) {\n            if (response.data.code == 200) {\n              localStorage.setItem(\"dashopt_bv_user\", response.data.username);\n              localStorage.setItem(\n                \"dashopt_bv_token\",\n                response.data.data.token\n              );\n              localStorage.setItem(\n                \"dashopt_bv_count\",\n                response.data.carts_count\n              );\n            }\n          });\n        alert(\"登陆成功,跳转到首页\");\n        this.$router.push(\"/index\");\n      } else {\n        alert(this.msg_name);\n      }\n    }\n  }\n};\n</script>\n\n"]}]}