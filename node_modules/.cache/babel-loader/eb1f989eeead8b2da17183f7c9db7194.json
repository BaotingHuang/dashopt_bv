{"remainingRequest":"/home/tarena/dashopt_bv/node_modules/babel-loader/lib/index.js!/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/dashopt_bv/src/views/register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/dashopt_bv/src/views/register.vue","mtime":1598362028772},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicmVnaXN0ZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHNob3c6IHRydWUsCiAgICAgIGp1bXA6IHRydWUsCiAgICAgIG1zZ19uYW1lOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChldnQpIHsKICAgICAgdmFyIHJlZ2V4X25hbWUgPSAvXlthLXpBLVpdW2EtekEtWjAtOV9dezUsMTF9JC87CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgaWYgKCFyZWdleF9uYW1lLnRlc3QodGhpcy5mb3JtLm5hbWUpKSB7CiAgICAgICAgdGhpcy5tc2dfbmFtZSA9ICLnlKjmiLflkI3miJblr4bnoIHplJnor69cbiI7CiAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5qdW1wID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuanVtcCkgewogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC92MS90b2tlbnMiLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy5mb3JtLm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJkYXNob3B0X2J2X3VzZXIiLCByZXNwb25zZS5kYXRhLnVzZXJuYW1lKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImRhc2hvcHRfYnZfdG9rZW4iLCByZXNwb25zZS5kYXRhLmRhdGEudG9rZW4pOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZGFzaG9wdF9idl9jb3VudCIsIHJlc3BvbnNlLmRhdGEuY2FydHNfY291bnQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCLnmbvpmYbmiJDlip8s6Lez6L2s5Yiw6aaW6aG1Iik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9pbmRleCIpOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KHRoaXMubXNnX25hbWUpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,IAAA,EAAA,IALA;AAMA,MAAA,IAAA,EAAA,IANA;AAOA,MAAA,QAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA;AACA,UAAA,UAAA,GAAA,8BAAA;AACA,MAAA,GAAA,CAAA,cAAA;;AACA,UAAA,CAAA,UAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,GAAA,YAAA;AACA,aAAA,IAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,aAAA,IAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,IAAA,EAAA;AACA,QAAA,KAAA,CACA,IADA,CACA,iCADA,EACA;AACA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA,IADA;AAEA,UAAA,QAAA,EAAA,KAAA,IAAA,CAAA;AAFA,SADA,EAKA,IALA,CAKA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,iBAAA,EAAA,QAAA,CAAA,IAAA,CAAA,QAAA;AACA,YAAA,YAAA,CAAA,OAAA,CACA,kBADA,EAEA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAFA;AAIA,YAAA,YAAA,CAAA,OAAA,CACA,kBADA,EAEA,QAAA,CAAA,IAAA,CAAA,WAFA;AAIA;AACA,SAjBA;AAkBA,QAAA,KAAA,CAAA,YAAA,CAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OArBA,MAqBA;AACA,QAAA,KAAA,CAAA,KAAA,QAAA,CAAA;AACA;AACA;AAlCA;AAbA,CAAA","sourcesContent":["<template>\n  <div>\n    <b-form @submit=\"onSubmit\">\n      <b-form-group id=\"input-group-name\" label=\"用户名:\" label-for=\"input-name\">\n        <b-form-input\n          id=\"input-name\"\n          v-model=\"form.name\"\n          required\n          placeholder=\"Enter name\"\n          type=\"text\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">字母开头，用户名长度为6-11字节，允许字母数字下划线</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-password\" label=\"登录密码:\" label-for=\"input-password\">\n        <b-form-input\n          id=\"input-password\"\n          v-model=\"form.password\"\n          required\n          placeholder=\"请输入密码\"\n          type=\"password\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">必须包含大小写字母和数字的组合，不能使用特殊字符，长度在6-12字节</b-alert>\n      </b-form-group>\n      <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n      <b-button type=\"button\" variant=\"info\" to=\"findPass\">忘记密码</b-button>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"register\",\n  data() {\n    return {\n      form: {\n        name: \"\",\n        password: \"\"\n      },\n      show: true,\n      jump: true,\n      msg_name: \"\"\n    };\n  },\n  methods: {\n    onSubmit(evt) {\n      var regex_name = /^[a-zA-Z][a-zA-Z0-9_]{5,11}$/;\n      evt.preventDefault();\n      if (!regex_name.test(this.form.name)) {\n        this.msg_name = \"用户名或密码错误\\n\";\n        this.jump = false;\n      } else {\n        this.jump = true;\n      }\n      if (this.jump) {\n        axios\n          .post(\"http://127.0.0.1:8000/v1/tokens\", {\n            username: this.form.name,\n            password: this.form.password\n          })\n          .then(function(response) {\n            if (response.data.code == 200) {\n              localStorage.setItem(\"dashopt_bv_user\", response.data.username);\n              localStorage.setItem(\n                \"dashopt_bv_token\",\n                response.data.data.token\n              );\n              localStorage.setItem(\n                \"dashopt_bv_count\",\n                response.data.carts_count\n              );\n            }\n          });\n        alert(\"登陆成功,跳转到首页\");\n        this.$router.push(\"/index\");\n      } else {\n        alert(this.msg_name);\n      }\n    }\n  }\n};\n</script>\n\n"],"sourceRoot":"src/views"}]}