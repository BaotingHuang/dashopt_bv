{"remainingRequest":"/home/tarena/dashopt_bv/node_modules/babel-loader/lib/index.js!/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tarena/dashopt_bv/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tarena/dashopt_bv/src/views/login.vue","mtime":1598094604877},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tarena/dashopt_bv/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgdW5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICBwYXNzd29yZDI6ICIiLAogICAgICAgIHBob25lOiAiIgogICAgICB9LAogICAgICBtc2dfdW5hbWU6ICLnlKjmiLflkI3mraPnoa5cbiIsCiAgICAgIG1zZ19wYXNzd29yZDogIuWvhueggeato+ehrlxuIiwKICAgICAgbWFnX2VtYWlsOiAi6YKu566x5q2j56GuXG4iLAogICAgICBtc2dfcGhvbmU6ICLmiYvmnLrlj7fmraPnoa4iLAogICAgICBzaG93OiB0cnVlLAogICAgICBqdW1wOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgcmVnZXhfdW5hbWUgPSAvXlthLXpBLVpdW2EtekEtWjAtOV9dezUsMTF9JC87CiAgICAgIHZhciByZWdleF9wYXNzd29yZCA9IC9eKD89LipcZCkoPz0uKlthLXpdKSg/PS4qW0EtWl0pLns1LDEyfSQvOwogICAgICB2YXIgcmVnZXhfZW1haWwgPSAvXlx3KyhbLSsuXVx3KykqQFx3KyhbLS5dXHcrKSpcLlx3KyhbLS5dXHcrKSokLzsKICAgICAgdmFyIHJlZ2V4X3Bob25lID0gL14xKFszNThdWzAtOV18NFs1NzldfDY2fDdbMDEzNTY3OF18OVs4OV0pWzAtOV17OH0kLzsgLy8gICBpZiAodGhpcy5mb3JtLnVuYW1lLmxlbmd0aCA8IDYgfHwgdGhpcy5mb3JtLnVuYW1lLmxlbmd0aCA+IDExKSB7CiAgICAgIC8vIHRoaXMubXNnX3VuYW1lID0gIueUqOaIt+WQjemVv+W6pumUmeivr1xuIjsKICAgICAgLy8gICB9IGVsc2UgaWYgKCFyZWdleF91bmFtZS50ZXN0KHRoaXMuZm9ybS51bmFtZSkpIHsKCiAgICAgIGlmICghcmVnZXhfdW5hbWUudGVzdCh0aGlzLmZvcm0udW5hbWUpKSB7CiAgICAgICAgdGhpcy5tc2dfdW5hbWUgPSAi55So5oi35ZCN6ZSZ6K+vXG4iOwogICAgICAgIHRoaXMuanVtcCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5mb3JtLnBhc3N3b3JkID09PSB0aGlzLmZvcm0ucGFzc3dvcmQyKSB7CiAgICAgICAgLy8gaWYgKHRoaXMuZm9ybS5wYXNzd29yZC5sZW5ndGggPCA2IHx8IHRoaXMuZm9ybS5wYXNzd29yZCA+IDEyKSB7CiAgICAgICAgaWYgKCFyZWdleF9wYXNzd29yZC50ZXN0KHRoaXMuZm9ybS5wYXNzd29yZCkpIHsKICAgICAgICAgIHRoaXMubXNnX3Bhc3N3b3JkID0gIuWvhueggemUmeivr1xuIjsKICAgICAgICAgIHRoaXMuanVtcCA9IGZhbHNlOwogICAgICAgIH0gLy8gfQoKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1zZ19wYXNzd29yZCA9ICLkuKTmrKHlr4bnoIHkuI3kuIDoh7RcbiI7CiAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICghcmVnZXhfZW1haWwudGVzdCh0aGlzLmZvcm0uZW1haWwpKSB7CiAgICAgICAgdGhpcy5tYWdfZW1haWwgPSAi6YKu566x6ZSZ6K+vXG4iOwogICAgICAgIHRoaXMuanVtcCA9IGZhbHNlOwogICAgICB9CgogICAgICBpZiAoIXJlZ2V4X3Bob25lLnRlc3QodGhpcy5mb3JtLnBob25lKSkgewogICAgICAgIHRoaXMubXNnX3Bob25lID0gIuaJi+acuuWPt+mUmeivryI7CiAgICAgICAgdGhpcy5qdW1wID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5qdW1wKSB7CiAgICAgICAgYWxlcnQodGhpcy5tc2dfdW5hbWUgKyB0aGlzLm1zZ19wYXNzd29yZCArIHRoaXMubWFnX2VtYWlsICsgdGhpcy5tc2dfcGhvbmUpOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC92MS91c2VycyIsIHsKICAgICAgICAgIHVuYW1lOiB0aGlzLmZvcm0udW5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkLAogICAgICAgICAgcGhvbmU6IHRoaXMuZm9ybS5waG9uZSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmZvcm0uZW1haWwKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgYWxlcnQoIuazqOWGjOaIkOWKnyzot7PovazliLDnmbvlvZXpobUiKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmZvcm0uZW1haWwgPSAiIiwgdGhpcy5mb3JtLnVuYW1lID0gIiIsIHRoaXMuZm9ybS5wYXNzd29yZCA9ICIiLCB0aGlzLmZvcm0ucGFzc3dvcmQyID0gIiIsIHRoaXMuZm9ybS5waG9uZSA9ICIiOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcmVnaXN0ZXIiKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <b-form @submit=\"onSubmit\" v-if=\"show\">\n      <b-form-group id=\"input-group-uname\" label=\"用户名:\" label-for=\"input-uname\">\n        <b-form-input\n          id=\"input-uname\"\n          v-model=\"form.uname\"\n          required\n          placeholder=\"Enter uname\"\n          type=\"text\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">字母开头，用户名长度为6-11字节，允许字母数字下划线</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-password\" label=\"登录密码:\" label-for=\"input-password\">\n        <b-form-input\n          id=\"input-password\"\n          v-model=\"form.password\"\n          required\n          placeholder=\"请输入密码\"\n          type=\"password\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">必须包含大小写字母和数字的组合，不能使用特殊字符，长度在6-12字节</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-password2\" label=\"再次输入登录密码:\" label-for=\"input-2\">\n        <b-form-input\n          id=\"input-password2\"\n          v-model=\"form.password2\"\n          required\n          placeholder=\"请输入密码\"\n          type=\"password\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">两次密码需一致</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-email\" label=\"邮箱:\" label-for=\"input-1\">\n        <b-form-input\n          id=\"input-email\"\n          v-model=\"form.email\"\n          type=\"email\"\n          required\n          placeholder=\"Enter email\"\n        ></b-form-input>\n        <b-alert show variant=\"light\">例如:123123@qq.com</b-alert>\n      </b-form-group>\n      <b-form-group id=\"input-group-phone\" label=\"手机号:\" label-for=\"input-2\">\n        <b-form-input id=\"input-phone\" v-model=\"form.phone\" required placeholder=\"请输入手机号\"></b-form-input>\n        <b-alert show variant=\"light\">例如:13331333963</b-alert>\n      </b-form-group>\n      <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n    </b-form>\n    <!-- {{ msg }} -->\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      form: {\n        email: \"\",\n        uname: \"\",\n        password: \"\",\n        password2: \"\",\n        phone: \"\"\n      },\n      msg_uname: \"用户名正确\\n\",\n      msg_password: \"密码正确\\n\",\n      mag_email: \"邮箱正确\\n\",\n      msg_phone: \"手机号正确\",\n      show: true,\n      jump: true\n    };\n  },\n  methods: {\n    onSubmit() {\n      var regex_uname = /^[a-zA-Z][a-zA-Z0-9_]{5,11}$/;\n      var regex_password = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{5,12}$/;\n      var regex_email = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\n      var regex_phone = /^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/;\n      //   if (this.form.uname.length < 6 || this.form.uname.length > 11) {\n      // this.msg_uname = \"用户名长度错误\\n\";\n      //   } else if (!regex_uname.test(this.form.uname)) {\n      if (!regex_uname.test(this.form.uname)) {\n        this.msg_uname = \"用户名错误\\n\";\n        this.jump = false;\n      }\n\n      if (this.form.password === this.form.password2) {\n        // if (this.form.password.length < 6 || this.form.password > 12) {\n        if (!regex_password.test(this.form.password)) {\n          this.msg_password = \"密码错误\\n\";\n          this.jump = false;\n        }\n        // }\n      } else {\n        this.msg_password = \"两次密码不一致\\n\";\n        this.jump = false;\n      }\n      if (!regex_email.test(this.form.email)) {\n        this.mag_email = \"邮箱错误\\n\";\n        this.jump = false;\n      }\n      if (!regex_phone.test(this.form.phone)) {\n        this.msg_phone = \"手机号错误\";\n        this.jump = false;\n      }\n      if (!this.jump) {\n        alert(\n          this.msg_uname + this.msg_password + this.mag_email + this.msg_phone\n        );\n      } else {\n        axios\n          .post(\"http://127.0.0.1:8000/v1/users\", {\n            uname: this.form.uname,\n            password: this.form.password,\n            phone: this.form.phone,\n            email: this.form.email\n          })\n          .then(function(response) {\n            if (response.data.code == 200) {\n              alert(\"注册成功,跳转到登录页\");\n            }\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n        (this.form.email = \"\"),\n          (this.form.uname = \"\"),\n          (this.form.password = \"\"),\n          (this.form.password2 = \"\"),\n          (this.form.phone = \"\");\n        this.$router.push(\"/register\");\n      }\n    }\n  }\n};\n</script>\n\n"],"sourceRoot":"src/views"}]}